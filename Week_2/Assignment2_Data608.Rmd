---
title: "Assignment2_Data608"
author: "Mubashira Qari"
date: "2025-02-16"
output: powerpoint_presentation
---

### Load Libraries

```{r}

library(tidyverse)
library(readxl)
library(ggplot2)
library(dplyr)
library(stringr)
library(tools)
library(stringdist)
library(broom)
library(gridExtra)
library(gclus)
library(car)
library(VGAM)
library(MASS)
library(rpart.plot)
library(ggfortify)
library(gridExtra)
library(forecast)
library(fpp2)
library(fma)
library(kableExtra)
library(e1071)
library(mlbench)
library(ggcorrplot)
library(DataExplorer)
library(timeDate)
library(caret)
library(GGally)
library(corrplot)
library(RColorBrewer)
library(tibble)
library(tidyr)
library(reshape2)
library(mixtools)
library(skimr)

```

### Loading Datasets

```{r}

unemployment_data <- read.csv("https://raw.githubusercontent.com/uzmabb182/Data_608/refs/heads/main/Week%202/unemployment_rate.csv")

fed_data <- read.csv("https://raw.githubusercontent.com/uzmabb182/Data_608/refs/heads/main/Week%202/fed_fund_rate.csv")

cpi_data <- read.csv("https://raw.githubusercontent.com/uzmabb182/Data_608/refs/heads/main/Week%202/consumer_price_index.csv")

#print(unemployment_data)
#print(fed_data)
print(cpi_data)
```

### Convert wide format to long format

```{r}
df_long <- cpi_data %>%
  pivot_longer(cols = -Year, names_to = "Month", values_to = "CPI") %>%
  filter(!Month %in% c("HALF1", "HALF2"))  # Removing Half-year summary columns if present
```

### Ordering Month Names

```{r}
df_long$Month <- factor(df_long$Month, levels = c("Jan", "Feb", "Mar", "Apr", "May", "Jun", 
                                                   "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"))
```

### Arrange by Year and Month

```{r}
df_long <- df_long %>%
  arrange(Year, Month)
```

### Calculate % change in CPI from the previous month

```{r}
df_long <- df_long %>%
  group_by(Year) %>%
  mutate(interest_rate = ((CPI - lag(CPI)) / lag(CPI)) * 100) %>%
  ungroup()

cpi_df <- df_long
cpi_df
```


```{r}
# Define the file path with filename and extension
file_path <- "C:/Users/Uzma/Downloads/new_df.csv"

# Write dataframe to CSV
write.csv(df_long, file = file_path, row.names = FALSE)

# Confirm that the file was saved
print("File saved successfully!")

```
```{r}
fed_data
```



### Convert "observation_date" to a Date format

```{r}
fed_data <- fed_data %>%
  mutate(observation_date = mdy(observation_date))  # Converts MM/DD/YYYY format to Date type

fed_df <- fed_data
fed_df
```
### Extract Year and Month

```{r}
fed_df <- fed_df %>%
  mutate(Year = year(observation_date),
         Month = month(observation_date, label = TRUE, abbr = TRUE))  # Extract month name (Jan, Feb, etc.)

fed_df
```
### Select and arrange final columns

```{r}
library(tidyverse)
library(lubridate)

fed_df <- fed_df %>%
  select(Year, Month, fed_fund_rate) %>%
  arrange(Year, Month)

fed_df

```
### Creating Dataframe for Unemployment Rate dataset

```{r}
unemp_df <- unemployment_data

unemp_df
```
### Extract the Month from the Label column

```{r}
unemp_df <- unemp_df %>%
  mutate(Month = word(Label, 2))  # Extract the second word (month name) from "1999 Jan"

unemp_df
```
### Arrange dataset in chronological order

```{r}
unemp_df <- unemp_df %>%
  arrange(Year, Month, unemployment_rate)

unemp_df
```

