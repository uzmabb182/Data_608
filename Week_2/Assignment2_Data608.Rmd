---
title: "Assignment2_Data608"
author: "Mubashira Qari"
date: "2025-02-16"
output: powerpoint_presentation
---

### Load Libraries

```{r}

library(tidyverse)
library(readxl)
library(ggplot2)
library(dplyr)
library(stringr)
library(tools)
library(stringdist)
library(broom)
library(gridExtra)
library(gclus)
library(car)
library(VGAM)
library(MASS)
library(rpart.plot)
library(ggfortify)
library(gridExtra)
library(forecast)
library(fpp2)
library(fma)
library(kableExtra)
library(e1071)
library(mlbench)
library(ggcorrplot)
library(DataExplorer)
library(timeDate)
library(caret)
library(GGally)
library(corrplot)
library(RColorBrewer)
library(tibble)
library(tidyr)
library(reshape2)
library(mixtools)
library(skimr)

```

### Loading Datasets

```{r}

unemployment_data <- read.csv("https://raw.githubusercontent.com/uzmabb182/Data_608/refs/heads/main/Week_2/unemployment_rate.csv")

fed_data <- read.csv("https://raw.githubusercontent.com/uzmabb182/Data_608/refs/heads/main/Week_2/fed_fund_rate.csv")

cpi_data <- read.csv("https://raw.githubusercontent.com/uzmabb182/Data_608/refs/heads/main/Week_2/consumer_price_index.csv")

#print(unemployment_data)
#print(fed_data)
print(cpi_data)
```

### Convert wide format to long format

```{r}

cpi_df <- cpi_data[, !(names(cpi_data) %in% c("HALF1", "HALF2"))]

```

### Ordering Month Names

```{r}
cpi_long <- reshape(cpi_df, 
                    varying = list(2:ncol(cpi_df)),  # All columns except "Year"
                    v.names = "CPI",  # New column name for CPI values
                    timevar = "Month",  # New column for Month names
                    times = names(cpi_df)[2:ncol(cpi_df)],  # Month names from column names
                    idvar = "Year",  # Keep Year column as identifier
                    direction = "long")
cpi_long
```


```{r}
# Define the file path with filename and extension
#file_path <- "C:/Users/Uzma/Downloads/new_df.csv"
file_path <- "C:/Users/Uzma/CUNY-SPS-Assignments/Data_608/Week_2/processed_interest_rates.csv"
# Write dataframe to CSV
write.csv(cpi_long, file = file_path, row.names = FALSE)

# Confirm that the file was saved
print("File saved successfully!")
cpi_long

```

```{r}
cpi_df <- cpi_long %>%
  group_by(Month) %>%  # Group by month to ensure comparisons are within the same month
  mutate(`inflation_rate` = round(((CPI - lag(CPI)) / lag(CPI)) * 100, 2)) %>%
  ungroup()

cpi_df
```



```{r}
fed_data
```



### Convert "observation_date" to a Date format

```{r}
fed_data <- fed_data %>%
  mutate(observation_date = mdy(observation_date))  # Converts MM/DD/YYYY format to Date type

fed_df <- fed_data
fed_df

```
### Extract Year and Month

```{r}
fed_df <- fed_df %>%
  mutate(Year = year(observation_date),
         Month = month(observation_date, label = TRUE, abbr = TRUE))  # Extract month name (Jan, Feb, etc.)

fed_df
```

### Creating Dataframe for Unemployment Rate dataset

```{r}
unemp_df <- unemployment_data

unemp_df
```
### Extract the Month from the Label column

```{r}
unemp_df <- unemp_df %>%
  mutate(Month = word(Label, 2))  # Extract the second word (month name) from "1999 Jan"

unemp_df
```
### Arrange dataset in chronological order

```{r}
unemp_df <- unemp_df %>%
  arrange(Year, Month, unemployment_rate)

unemp_df
```

